===Create md device===
Create a raid5 device with 256 chunk size on 4 devices with out any hot spares.
<pre># mdadm --create /dev/md0 --level=raid5 --chunk=256 --raid-devices=4 --spare-devices=0 /dev/sd[b-e]</pre>

===Create filesystem===
====Ext3====
Create an ext3 file system with 0% space reserved for root, a 4096 block size, and a raid stride of 16 ( 16 * 256 = 4096 | stride*chunk=block)
<pre># mkfs.ext3 -m 0 -b 4096 -E stride=16 /dev/md0</pre>
====Xfs====
Install xfs in centos...
<pre># yum install kmod-xfs xfsdump xfsprogs</pre>
Create FS
<pre># mkfs.xfs /dev/md0</pre>
Need to research tunable fs parameters.

===Performance Testing===
====Bonnie++====
<pre># bonnie++ -d /mnt/raid5/tmp -u drew -f</pre>
====Iozone====
-a auto -b output_excel file -i run read test -i run write test

<pre># iozone -a -b werd.xls -i 0 -i 1 -C -E</pre>

===Additional Tunables===
<pre>
# Most of this came from these were pulled from article;
# See: http://www.3ware.com/KB/article.aspx?id=11050
</pre>

* Need to research.
<pre>
echo "Setting max_sectors_kb to chunk size of RAID5 arrays..."
for i in sdb sdc sdd sde
do
   echo "Setting /dev/$i to 128K..."
   echo 128 > /sys/block/"$i"/queue/max_sectors_kb
done
</pre>

*I hear this eats a lot of RAM
<pre>
echo "Setting read-ahead to 64MB for /dev/md3"
blockdev --setra 65536 /dev/md0
</pre>

* Need to research.
<pre>
echo "Setting stripe_cache_size to 16MB for /dev/md3"
echo 16384 > /sys/block/md0/md/stripe_cache_size
</pre>

* Dramatically improves resync performance...
<pre>
# Increase the minimum / maximum resync speed of the array..
echo "Setting minimum and maximum resync speed to 100MB/s..."
echo 100000 > /sys/block/md0/md/sync_speed_min
echo 100000 > /sys/block/md0/md/sync_speed_max
</pre>

* Disabling native command queuing ... Benefits?
<pre>
# Disable NCQ.
echo "Disabling NCQ..."
for i in sdc sdd sde sdf sdg sdh sdi sdj sdk sdl
do
   echo "Disabling NCQ on $i"
   echo 1 > /sys/block/"$i"/device/queue_depth
done
</pre>